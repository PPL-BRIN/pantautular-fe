"use client"

import { useState } from "react"
import { cn } from "@/lib/utils"

interface GearToggleButtonProps {
  onClick?: () => void
  className?: string
  size?: "sm" | "md" | "lg"
  ariaLabel?: string
}

export default function GearToggleButton({
  onClick,
  className,
  size = "md",
  ariaLabel = "Settings",
}: Readonly<GearToggleButtonProps>) {
  const [isActive, setIsActive] = useState(false)

  const sizeClasses = {
    sm: "h-10 w-10",
    md: "h-12 w-12",
    lg: "h-16 w-16",
  }

  const iconSizes = {
    sm: 16,
    md: 20,
    lg: 24,
  }

  const handleClick = () => {
    setIsActive(!isActive)
    onClick?.()
  }

  return (
    <button
      type="button"
      onClick={handleClick}
      aria-label={ariaLabel}
      className={cn(
        "rounded-full flex items-center justify-center transition-colors duration-200 shadow-sm",
        isActive ? "bg-red-500" : "bg-white border border-gray-200",
        sizeClasses[size],
        className,
      )}
    >
      <svg
        width={iconSizes[size]}
        height={iconSizes[size]}
        viewBox="0 0 14 14"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className={cn("transition-colors duration-200", isActive ? "text-white" : "text-red-500")}
      >
        <path
          d="M13.3 6.3H13.181C12.4439 6.3 11.8104 5.8317 11.5311 5.1492L11.5164 5.1149C11.2308 4.431 11.3421 3.647 11.8664 3.1227L11.9497 3.0394C12.0147 2.97441 12.0662 2.89725 12.1014 2.81234C12.1366 2.72742 12.1547 2.63641 12.1547 2.5445C12.1547 2.45259 12.1366 2.36158 12.1014 2.27666C12.0662 2.19175 12.0147 2.11459 11.9497 2.0496C11.8847 1.98461 11.8076 1.93305 11.7226 1.89788C11.6377 1.86271 11.5467 1.84461 11.4548 1.84461C11.3629 1.84461 11.2719 1.86271 11.187 1.89788C11.102 1.93305 11.0249 1.98461 10.9599 2.0496L10.8766 2.1329C10.3523 2.6572 9.5683 2.7685 8.8844 2.4829L8.8501 2.4682C8.1683 2.1896 7.7 1.5526 7.7 0.8155V0.7588C7.7 0.3129 7.3871 0 7 0C6.6129 0 6.3 0.3129 6.3 0.7V0.7252C6.3 1.4924 5.838 2.184 5.1289 2.4773L5.1247 2.4794C4.77806 2.62288 4.39666 2.66036 4.02873 2.5871C3.66079 2.51383 3.32284 2.33312 3.0576 2.0678L3.0401 2.0503C2.97511 1.98531 2.89795 1.93375 2.81304 1.89858C2.72812 1.86341 2.63711 1.84531 2.5452 1.84531C2.45329 1.84531 2.36228 1.86341 2.27736 1.89858C2.19245 1.93375 2.11529 1.98531 2.0503 2.0503C1.98531 2.11529 1.93375 2.19245 1.89858 2.27736C1.86341 2.36228 1.84531 2.45329 1.84531 2.5452C1.84531 2.63711 1.86341 2.72812 1.89858 2.81304C1.93375 2.89795 1.98531 2.97511 2.0503 3.0401L2.0755 3.0653C2.33847 3.3285 2.51758 3.66371 2.59021 4.02861C2.66284 4.39352 2.62575 4.77176 2.4836 5.1156L2.4647 5.1604C2.32494 5.49763 2.08836 5.78587 1.78486 5.9887C1.48135 6.19153 1.12454 6.29986 0.7595 6.3C0.3136 6.3 0 6.6129 0 7C0 7.3871 0.3129 7.7 0.7 7.7H0.7476C1.1162 7.69991 1.47653 7.80921 1.78296 8.01408C2.08938 8.21894 2.32811 8.51015 2.4689 8.8508L2.4836 8.8851C2.62575 9.22894 2.66284 9.60718 2.59021 9.97208C2.51758 10.337 2.33847 10.6722 2.0755 10.9354L2.0503 10.9606C1.91904 11.0919 1.84531 11.2699 1.84531 11.4555C1.84531 11.6411 1.91904 11.8191 2.0503 11.9504C2.18156 12.0817 2.35958 12.1554 2.5452 12.1554C2.73082 12.1554 2.90884 12.0817 3.0401 11.9504L3.0653 11.9252C3.32845 11.6621 3.66366 11.483 4.02859 11.4103C4.39351 11.3377 4.77178 11.3749 5.1156 11.5171L5.2157 11.5591C5.53675 11.6917 5.8112 11.9166 6.00424 12.2053C6.19728 12.4941 6.30022 12.8337 6.3 13.181V13.2405C6.3 13.6871 6.6129 14 7 14C7.3871 14 7.7 13.6864 7.7 13.3V13.181C7.7 12.4705 8.1277 11.83 8.785 11.5584L8.9614 11.4856C9.28253 11.3524 9.63598 11.3176 9.97694 11.3855C10.3179 11.4534 10.631 11.621 10.8766 11.8671L10.9599 11.9504C11.0249 12.0154 11.102 12.0669 11.187 12.1021C11.2719 12.1373 11.3629 12.1554 11.4548 12.1554C11.5467 12.1554 11.6377 12.1373 11.7226 12.1021C11.8076 12.0669 11.8847 12.0154 11.9497 11.9504C12.0147 11.8854 12.0662 11.8083 12.1014 11.7233C12.1366 11.6384 12.1547 11.5474 12.1547 11.4555C12.1547 11.3636 12.1366 11.2726 12.1014 11.1877C12.0662 11.1027 12.0147 11.0256 11.9497 10.9606L11.8664 10.8773C11.3421 10.353 11.2308 9.569 11.5164 8.8851L11.5311 8.8508C11.8104 8.1683 12.4474 7.7 13.1845 7.7H13.2405C13.6871 7.7 14 7.3871 14 7C14 6.6129 13.6871 6.3 13.3 6.3ZM4.2 7.7C4.01435 7.7 3.8363 7.62625 3.70503 7.49497C3.57375 7.3637 3.5 7.18565 3.5 7C3.5 6.81435 3.57375 6.6363 3.70503 6.50503C3.8363 6.37375 4.01435 6.3 4.2 6.3C4.38565 6.3 4.5637 6.37375 4.69497 6.50503C4.82625 6.6363 4.9 6.81435 4.9 7C4.9 7.18565 4.82625 7.3637 4.69497 7.49497C4.5637 7.62625 4.38565 7.7 4.2 7.7ZM7.7 10.15C7.51435 10.15 7.3363 10.0763 7.20503 9.94497C7.07375 9.8137 7 9.63565 7 9.45C7 9.26435 7.07375 9.0863 7.20503 8.95503C7.3363 8.82375 7.51435 8.75 7.7 8.75C7.88565 8.75 8.0637 8.82375 8.19497 8.95503C8.32625 9.0863 8.4 9.26435 8.4 9.45C8.4 9.63565 8.32625 9.8137 8.19497 9.94497C8.0637 10.0763 7.88565 10.15 7.7 10.15ZM8.4 7C8.2161 6.99995 8.03402 6.96369 7.86414 6.89327C7.69425 6.82285 7.53991 6.71967 7.4099 6.5896C7.2799 6.45953 7.17679 6.30513 7.10646 6.13522C7.03613 5.9653 6.99995 5.7832 7 5.5993C7.00005 5.4154 7.03631 5.23332 7.10673 5.06344C7.17715 4.89355 7.28033 4.73921 7.4104 4.60921C7.54047 4.4792 7.69487 4.37609 7.86478 4.30576C8.0347 4.23543 8.2168 4.19925 8.4007 4.1993C8.7721 4.19939 9.12824 4.34702 9.39079 4.6097C9.65335 4.87238 9.80079 5.2286 9.8007 5.6C9.80061 5.9714 9.65298 6.32754 9.3903 6.59009C9.12762 6.85265 8.7714 7.00009 8.4 7Z"
          fill="currentColor"
        />
      </svg>
    </button>
  )
}